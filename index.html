<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Clipboard OCR Web</title>
<style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
    #imagePreview { max-width: 300px; border: 1px solid #ccc; margin: 10px auto; }
    textarea { width: 90%; height: 200px; margin-top: 10px; }
    button { margin: 5px; padding: 8px 12px; font-size: 14px; }
</style>
</head>
<body>

<h2>ğŸ“‹ Clipboard OCR Web</h2>
<p>DÃ¡n áº£nh vÃ o Ä‘Ã¢y (Ctrl+V) Ä‘á»ƒ nháº­n dáº¡ng chá»¯.</p>
<img id="imagePreview" alt="áº¢nh tá»« clipboard" />
<br>
<textarea id="textOutput" placeholder="Káº¿t quáº£ OCR sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y..."></textarea><br>
<button onclick="copyText()">ğŸ“„ Copy káº¿t quáº£</button>

<script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
<script>
document.addEventListener("paste", async (event) => {
    const items = event.clipboardData.items;
    for (let item of items) {
        if (item.type.startsWith("image/")) {
            const blob = item.getAsFile();
            const url = URL.createObjectURL(blob);
            document.getElementById("imagePreview").src = url;

            // OCR vá»›i Tesseract.js
            const { data: { text } } = await Tesseract.recognize(blob, 'eng+vie');
            document.getElementById("textOutput").value = text.replace(/~/g, "-");
        }
    }
});

function copyText() {
    const text = document.getElementById("textOutput").value;
    navigator.clipboard.writeText(text).then(() => {
        alert("âœ… ÄÃ£ copy káº¿t quáº£!");
    });
}
</script>

</body>
</html>
